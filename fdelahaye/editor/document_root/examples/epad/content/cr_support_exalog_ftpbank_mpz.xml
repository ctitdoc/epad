<?xml version="1.0" encoding="UTF-8"?>
<epad xml:lang="fr-FR"><meta><author>Franck Delahaye</author><date>2020-03-31</date></meta><h>Compte Rendu de conf call avec support ftp-bank pour le paramétrage MPZ</h><p>Préambule</p><p> Le contenu de cette section de préambule est une synthèse du 31/03/2020 concernant la nouvelle version process de transfert d'ordre de crédit (ou virement) du programme Meinungsplatz. Les section qui suivent ne sont potentiellement pas à jour par rapport à cette nouvelle version du process (TODO : faire cette mise à jour). </p><p> Voilà les retour du support ftp-bank concernant le setup des transfert de virement pour mpz: </p><p/><ul><li><p> on a deux comptes client différent chez eux :</p></li><li><p> “Maximiles” : c'est le compte historique qui gère les transfert bancaires de Ugc et Fabuleous via le service Ftp-bank;</p></li><li><p> “Bilendi Gmbh” : c'est le nouveau compte qui gère les transfert bancaires de MPZ via le nouveau service Exabank;</p></li><li><p> dans le principe comment s'utilisent ces services :</p></li><li><p> Pour Ftp-Bank :</p><ul><li><p> Un BO permet de :</p><ul><li><p> Paramétrer des flux :</p><ul><li><p> emeteur : nom, raison social, infos bancaire : IBAN, BIC, …</p></li><li><p> type/format de fichier émis : prélèvement/SEPA et/ou Prélèvement/EBCDIC… virment/SEPA, virment/EBCDIC …</p></li><li><p> nomenclature des fichier (horodatage…), repertoires (fichiers émis, reçus…), périodicités …</p></li></ul></li><li><p> Transférer manuellement de tel fichier depuis/vers le réseau inter-bancaire;</p></li><li><p> Switcher sur une “mise en attente” des fichier à transférer vers le réseau inter-bancaire, plutôt que les transférer directement;</p></li><li><p> Accéder au logs pour monitoring : fichier transférés, fichier en erreur …;</p></li><li><p> Et faire plus de choses encore…</p></li></ul></li><li><p> Un service sftp effectue automatiquement les transfert de fichier selon les paramétrages de ce BO (sauf si switch sur “mise en attente” dans le BO donc):</p><ul><li><p> depuis le réseau inter-bancaire vers les repertoires d'un serveur sftp ftp-bank accessibles en pull par notre plateforme;</p></li><li><p> vers le réseau inter-bancaire depuis d'autres repertoires de ce serveur accessibles en push par notre plateforme;</p></li></ul></li></ul></li><li><p> Pour Exabanque : c'est le même princpe de BO, mais Exabanque utilise en sous-marin le service sftp de ftp-banque pour les transfert automatique :</p><ul><li><p> Reco du support ftp-bank/Serge Adam : IL FAUT DONC VERIFIER (OU CONFIRMER) QUE CE TRANSFERT AUTO DEPUIS FTP-BANK A BIEN ETE CONFIGURE DANS LES PARAMETRAGES MPZ FAIT DANS LE BO EXABANQUE;</p><ul><li><p> Attention : les interlocuteur Exabanque ne le vérifient pas par défaut, et peuvent faire un retour “test ok”, ne concernant que le paramétrage de base d'un compte dans le BO Exabanque;</p></li></ul></li></ul></li><li><p> Autres recos :</p><ul><li><p> Accés aux BO par les techos :</p><ul><li><p> Afin de permettre l'accès à ces BO Ftp-bank et Exabanque par les interlocuteur techniques pour vérifier la cohérence des paramétrages techniques fait avec leur propres script de push/pull sur/depuis le serveur ftp-bank, il faut leur créer un login de connexion à ces BO, si possible avec un profil sans l'accès aux données confidentielles (IBAN des comptes émeteur…);</p></li><li><p> Un login sur ces BO avec le profil “Administrateur” à la possibilité de le faire (cf la doc en ligne sinon pdf : TODO : référencer cette doc dans ce wiki);</p></li><li><p> Un tel login “Administrateur” a été fournit à Hervé Piedvache pour Ftp-bank, un autre a forcément été fournit à quelqu'un de chez nous aussi pour Exabanque;</p></li><li><p> La vérif préconisée ci-avant, du paramétrage de Ftp-bank dans Exabanque pour l'automatisation des transfert MPZ, ne peut se faire qu'en tant qu'Administrateur;</p></li></ul></li><li><p> Scénario recommandé pour tester les transfert automatiques avant de les activer complètement en production :</p><ul><li><p> 1 : Switcher le paramétrage MPZ dans les BO Exabanque sur “mode : TEST” et “mise en attente” (voir dans le guide utilisateur : de souvenir : écran “paramétrage du compte” pour la liste déroulante mode TEST ou PRODUCTION, et écran “Préférences / FTP-Bank” pour la coche de mise en attente;</p></li><li><p> 2 : Faire le push via nos script de quelques fichier “samples” depuis la testing;</p></li><li><p> 3 : Vérifier qu'ils sont bien mis en attente dans le BO Exabanque : le fait que les fichier soient passés dans l'état “mis en attente” par ftp-banque et Exabanque est une première validation que la structure et le contenus de ces fichiers sont ok pour ces deux services, sinon ils seront mis en erreur.</p></li><li><p> 4 : Déclencher le transfert de ces fichier dans le réseau inter-bancaire depuis le BO Exabanque : dans ce mode TEST, les fichier seront vérifiés par les banques mais les crédit bancaire ne seront pas exécutés… pour autant pour permettre ces vérif, il faut pousser des fichiers avec de vraies valeur.</p></li></ul></li></ul></li></ul><dataset_definition behavior="section" view="normal"><h/><p/><data_definition behavior="section" view="normal"><h/><property_definition behavior="section" view="normal"><h/><p/></property_definition></data_definition></dataset_definition></epad>
